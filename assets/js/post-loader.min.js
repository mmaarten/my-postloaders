!function(n){"use strict";function i(t,e){this.$elem=n(t),this.$content=n(this.$elem.data("target")),this.options=n.extend({},i.defaultOptions,e),this.$elem.addClass("post-loader");var o=this;this.$elem.on("submit",".post-loader-form",function(t){t.preventDefault(),o.load()}),this.$content.on("click",".pagination .page-link",function(t){t.preventDefault(),o.load({page:n(this).data("page"),animate:!0})}),this.$elem.on("change",'input[type="checkbox"], input[type="radio"]',function(t){var e=n(this).closest("label");e.length&&(n(this).is(":checked")?e.addClass("active"):e.removeClass("active"))}),this.$elem.on("change",":input.autoload",function(t){o.load()}),n(document).trigger("postLoader.init",[this])}i.defaultOptions={animationSpeed:400},i.prototype.$elem=null,i.prototype.options={},i.prototype.response=null,i.prototype.load=function(i){i=n.extend({},{page:1,animate:!1},i),this.$elem.find('.post-loader-form :input[name="paged"]').val(i.page);var o=this.$elem.find(".post-loader-form :input:not([disabled])");n.ajax({url:theme.ajaxurl,method:"POST",data:this.$elem.find(".post-loader-form").serialize(),context:this,beforeSend:function(t,e){this.$elem.addClass("loading"),this.$content.addClass("loading"),o.prop("disabled",!0),this.$elem.trigger("postLoader.loadBeforeSend",[this,t,e])},success:function(t,e,o){this.response=t,this.$content.html(this.response.content),i.animate&&n([document.documentElement,document.body]).stop().animate({scrollTop:this.$content.offset().top},this.options.animationSpeed),this.$elem.trigger("postLoader.loadSuccess",[this,t,e,o])},error:function(t,e,o){this.$elem.trigger("postLoader.loadError",[this,t,e,o])},complete:function(t,e){this.$elem.removeClass("loading"),this.$content.removeClass("loading"),o.prop("disabled",!1),this.$elem.trigger("postLoader.loadComplete",[this,t,e])}})},n.fn.postLoader=function(e){return this.each(function(){if(void 0===n(this).data("postLoader")){var t=new i(this,e);n(this).data("postLoader",t)}})},window.postLoader=i}(jQuery),jQuery(document).on("ready",function(){jQuery(".post-loader").postLoader()});